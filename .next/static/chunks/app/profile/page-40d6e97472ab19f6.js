(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9770:function(e,t,a){Promise.resolve().then(a.bind(a,8344))},8344:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ProfilePage}});var s=a(7437),r=a(2265),l=a(3089),n=a(609),i=a(6812),o=a(150),c=a(6582),d=a(4606),u=a(4035),f=a(4136),m=a(6142),p=a(2549),h=a(6637),x=a(1541),g=a(6806),j=a(5813),y=a(678);let v="http://localhost:3001/api";function ProfilePage(){let{isSignedIn:e}=(0,g.aC)(),[t,a]=(0,r.useState)("Passionate developer with a knack for creating efficient and scalable web applications. Always eager to learn new technologies and solve complex problems."),[b,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(["React","Node.js","TypeScript","GraphQL","AWS"]),[S,C]=(0,r.useState)(!1),[P,z]=(0,r.useState)("Add a skill"),[E,R]=(0,r.useState)("Your About Section. Write a brief description about yourself."),[U,T]=(0,r.useState)(!1),[Z,O]=(0,r.useState)(null),[A,F]=(0,r.useState)(null),[_,D]=(0,r.useState)("Update your Job Title"),[J,B]=(0,r.useState)("Update your location"),[I,L]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(!1),[Q,W]=(0,r.useState)(""),[H,V]=(0,r.useState)(!1),[$,G]=(0,r.useState)("FirstName LastName"),[M,K]=(0,r.useState)(""),[X,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)(null),es=(0,r.useRef)(null),er=(0,r.useRef)(null);async function getContent(e){let t=await j.Me({data:e}).promise,a=await t.getPage(1);return await a.getTextContent()}async function getItems(e){let t=await getContent(e),a="";return t.items.forEach(e=>{e.str&&(a+=e.str+" ")}),a.trim()}(0,r.useEffect)(()=>{getUserData()},[]);let getUserData=async()=>{let e=await fetch("".concat(v,"/profile"),{credentials:"include"});if(!e.ok){console.error("Error fetching user data");return}let t=await e.json();console.log("The data is "+JSON.stringify(t)),t.resume_uploaded_date?ea(t.resume_uploaded_date):ea(""),G(t.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")),D(t.title),B(t.location),a(t.bio),R(t.about),K(t.profile_picture_link)},handleResumeUpload=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if("application/pdf"===a.type){O(a),F(new Date().toLocaleString()),V(!0);try{let e=await a.arrayBuffer(),t=await getItems(e);console.log("The text is "+t),W(t);let s=await fetch("".concat(v,"/resume"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resume:t}),credentials:"include"});s.ok?alert("Resume uploaded successfully"):alert("Error uploading resume. Please try again.")}catch(e){console.error("Error reading PDF:",e),alert("Error reading PDF file. Please try again.")}finally{V(!1)}}else alert("Please upload a PDF file")}},handleProfilePictureUpload=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){let e=new FormData;e.append("profilePicture",a);try{let t=await fetch("".concat(v,"/upload-profile-picture"),{method:"POST",body:e,credentials:"include"});if(t.ok){let e=await t.json();K(e.profilePictureLink),ee(!1)}else alert("Error uploading profile picture. Please try again.")}catch(e){console.error("Error uploading profile picture:",e),alert("Error uploading profile picture. Please try again.")}}},handleRemoveSkill=async e=>{let t=w.filter(t=>t!==e);try{k(t)}catch(e){console.error("Error updating skills:",e),alert("Failed to update skills. Please try again.")}},handleUpdateJobTitle=async e=>{try{let t=await fetch("".concat(v,"/update-title"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobTitle:e}),credentials:"include"});t.ok?console.log("Successfully updated job title"):alert("Error updating job title. Please try again."),L(!1)}catch(e){console.error("Error updating job title:",e),alert("Failed to update job title. Please try again.")}},handleUpdateCity=async e=>{try{let t=await fetch("".concat(v,"/update-location"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:e}),credentials:"include"});t.ok?console.log("Successfully updated the location"):alert("Error updating job title. Please try again."),q(!1)}catch(e){console.error("Error updating city:",e),alert("Failed to update city. Please try again.")}},handleUpdateSkills=async e=>{try{C(!1)}catch(e){console.error("Error updating skills:",e),alert("Failed to update skills. Please try again.")}},handleUpdateBio=async e=>{try{let t=await fetch("".concat(v,"/update-bio"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bio:e}),credentials:"include"});t.ok?console.log("Successfully updated users bio"):alert("Error updating bio. Please try again."),N(!1)}catch(e){console.error("Error updating bio:",e),alert("Failed to update bio. Please try again.")}},handleUpdateAbout=async e=>{try{let t=await fetch("".concat(v,"/update-about"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({about:e}),credentials:"include"});t.ok?console.log("Successfully updated about section"):alert("Error updating About section. Please try again."),T(!1)}catch(e){console.error("Error updating about:",e),alert("Failed to update about section. Please try again.")}};return(0,s.jsxs)("div",{className:"flex ",children:[(0,s.jsx)(y.l,{}),(0,s.jsx)("div",{className:"ml-64 flex-1 p-4",children:(0,s.jsxs)("div",{className:"container mx-auto space-y-6 w-[90%] md:w-[50%]",children:[(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(i.qE,{className:"h-20 w-20 md:h-32 md:w-32",children:[(0,s.jsx)(i.F$,{src:M,alt:"Profile Picture"}),(0,s.jsx)(i.Q5,{children:$.split(" ").map(e=>e[0]).join("")})]}),(0,s.jsxs)(l.z,{variant:"secondary",size:"icon",className:"absolute bottom-0 right-0",onClick:()=>{var e;null===(e=er.current)||void 0===e||e.click()},children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Change profile picture"})]}),(0,s.jsx)(c.I,{ref:er,type:"file",accept:"image/*",onChange:handleProfilePictureUpload,className:"hidden"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ll,{className:"text-2xl",children:$}),I?(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(c.I,{value:_,placeholder:"Update your job title",onChange:e=>D(e.target.value),className:"h-6 py-1 text-sm"}),(0,s.jsx)(l.z,{size:"sm",onClick:()=>handleUpdateJobTitle(_),children:"Save"})]}):(0,s.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[_,(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>L(!0),children:[(0,s.jsx)(f.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit job title"})]})]}),(0,s.jsxs)("div",{className:"flex items-center mt-1 text-sm text-muted-foreground",children:[(0,s.jsx)(m.Z,{className:"mr-1 h-4 w-4"}),Y?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.I,{value:J,onChange:e=>B(e.target.value),className:"h-6 py-1 text-sm",placeholder:"Update your location"}),(0,s.jsx)(l.z,{size:"sm",onClick:()=>handleUpdateCity(J),children:"Save"})]}):(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[J,(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>q(!0),children:[(0,s.jsx)(f.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit city"})]})]})]})]})]})}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Top Skills"}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>C(!S),children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit skills"})]})]}),S?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map((e,t)=>(0,s.jsxs)(o.C,{variant:"secondary",children:[e,(0,s.jsxs)("button",{onClick:()=>handleRemoveSkill(e),className:"ml-1 text-xs",children:[(0,s.jsx)(p.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"sr-only",children:"Remove skill"})]})]},t))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.I,{value:P,onChange:e=>z(e.target.value),placeholder:"Add a skill",className:"flex-grow"}),(0,s.jsx)(l.z,{onClick:()=>handleUpdateSkills(w),children:"Add"})]})]}):(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map((e,t)=>(0,s.jsx)(o.C,{variant:"secondary",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Bio"}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>N(!b),children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit bio"})]})]}),b?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.g,{value:t,onChange:e=>a(e.target.value),rows:4}),(0,s.jsx)(l.z,{onClick:()=>handleUpdateBio(t),children:"Save"})]}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t})]})]})})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{className:"text-xl",children:"Resume"})}),(0,s.jsxs)(n.aY,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h.Z,{className:"mr-2 h-5 w-5"}),(0,s.jsx)("span",{className:"text-purple-400 font-serif",children:et?"Resume uploaded on: ".concat(new Date(et).toLocaleDateString()):"No resume uploaded"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)(l.z,{variant:"outline",onClick:()=>{var e;null===(e=es.current)||void 0===e||e.click()},disabled:H,children:[(0,s.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),H?"Processing...":"Upload Resume"]}),(0,s.jsx)(c.I,{ref:es,type:"file",accept:".pdf",onChange:handleResumeUpload,className:"hidden"})]})]}),A&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Uploaded on: ",A]}),H&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Reading PDF content..."})]})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(n.ll,{className:"text-xl",children:"About"}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>T(!U),children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit about section"})]})]})}),(0,s.jsx)(n.aY,{children:U?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.g,{value:E,onChange:e=>R(e.target.value),rows:4}),(0,s.jsx)(l.z,{onClick:()=>handleUpdateAbout(E),children:"Save"})]}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:E})})]})]})})]})}j.Tu.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.8.69/pdf.worker.mjs"},678:function(e,t,a){"use strict";a.d(t,{l:function(){return NavBar}});var s=a(7437),r=a(2265),l=a(1396),n=a.n(l),i=a(4033),o=a(3089),c=a(2549),d=a(8004),u=a(2242),f=a(9057),m=a(7972),p=a(580),h=a(5883),x=a(6806);function NavBar(){let[e,t]=(0,r.useState)(!0),a=(0,i.usePathname)(),{signOut:l}=(0,x.ll)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.z,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50",onClick:()=>t(!e),children:e?(0,s.jsx)(c.Z,{className:"h-4 w-4"}):(0,s.jsx)(d.Z,{className:"h-4 w-4"})}),(0,s.jsx)("nav",{className:"bg-background border-r h-screen w-64 fixed left-0 top-0 p-4 transition-transform duration-300 ease-in-out transform ".concat(e?"translate-x-0":"-translate-x-full"),children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4 mt-16",children:[(0,s.jsx)(n(),{href:"/match",children:(0,s.jsxs)(o.z,{variant:"/match"===a?"default":"ghost",className:"w-full justify-start",children:[(0,s.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Home"]})}),(0,s.jsx)(n(),{href:"/jobsApplied",children:(0,s.jsxs)(o.z,{variant:"/jobsApplied"===a?"default":"ghost",className:"w-full justify-start",children:[(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Jobs Applied"]})}),(0,s.jsx)(n(),{href:"/profile",children:(0,s.jsxs)(o.z,{variant:"/profile"===a?"default":"ghost",className:"w-full justify-start",children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Profile"]})}),(0,s.jsx)(n(),{href:"/about",children:(0,s.jsxs)(o.z,{variant:"/about"===a?"default":"ghost",className:"w-full justify-start",children:[(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"About Us"]})}),(0,s.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start",onClick:()=>l({redirectUrl:"/"}),children:[(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]})})]})}},6812:function(e,t,a){"use strict";a.d(t,{F$:function(){return o},Q5:function(){return c},qE:function(){return i}});var s=a(7437),r=a(2265),l=a(6694),n=a(345);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=l.fC.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Ee,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});o.displayName=l.Ee.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});c.displayName=l.NY.displayName},150:function(e,t,a){"use strict";a.d(t,{C:function(){return Badge}});var s=a(7437);a(2265);var r=a(9213),l=a(345);let n=(0,r.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...r})}},3089:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(7437),r=a(2265),l=a(7256),n=a(9213),i=a(345);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:c=!1,...d}=e,u=c?l.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:n,className:a})),ref:t,...d})});c.displayName="Button"},609:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return n},aY:function(){return d},ll:function(){return o}});var s=a(7437),r=a(2265),l=a(345);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},6582:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var s=a(7437),r=a(2265),l=a(345);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},4606:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});var s=a(7437),r=a(2265),l=a(345);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});n.displayName="Textarea"},345:function(e,t,a){"use strict";a.d(t,{cn:function(){return cn}});var s=a(7042),r=a(4769);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[980,449,7,396,481,971,472,744],function(){return e(e.s=9770)}),_N_E=e.O()}]);